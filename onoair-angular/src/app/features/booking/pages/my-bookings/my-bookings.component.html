<div class="loading-spinner" *ngIf="isLoading">
  <p>Loading bookings...</p>
</div>

<div class="my-bookings-container" *ngIf="!isLoading">
  <!-- Iterate through booking sections (e.g., Upcoming and Previous) -->
  <div *ngFor="let section of bookingSections" class="booking-section">
    <h1>{{ section.title }}</h1>

    <!-- Show bookings if available, otherwise fallback to 'noBookings' -->
    <div *ngIf="section.bookings.length > 0; else noBookings">
      <div *ngFor="let booking of section.bookings" class="booking-card">
        <img
          [src]="booking.image || 'assets/images/default-destination.jpg'"
          alt="Image for {{ booking.destination }}"
          class="destination-image"
        />
        <div class="booking-details">
          <p><strong>Origin:</strong> {{ booking.origin }}</p>
          <p><strong>Boarding:</strong> {{ booking.boarding }}</p>
          <p><strong>Destination:</strong> {{ booking.destination }}</p>
          <p><strong>Landing:</strong> {{ booking.landing }}</p>
          <p><strong>No. of Passengers:</strong> {{ booking.passengers.length }}</p>
          <p><strong>Status:</strong> 
            <span [ngClass]="{'active-status': booking.status === bookingStatus.Active, 'canceled-status': booking.status === bookingStatus.Canceled}">
              {{ booking.status }}
            </span>
          </p>

          <!-- View Booking Button -->
          <button 
            mat-raised-button 
            color="primary" 
            (click)="viewBooking(booking.bookingId)">
            View Details
          </button>

          <!-- Cancel Button (only for Active bookings) -->
          <button 
            mat-raised-button 
            color="warn" 
            *ngIf="booking.status === bookingStatus.Active" 
            (click)="cancelBooking(booking.bookingId)">
            Cancel
          </button>
        </div>
      </div>
    </div>

    <!-- Fallback template for no bookings -->
    <ng-template #noBookings>
      <p>No {{ section.title.toLowerCase() }} bookings available.</p>
    </ng-template>
  </div>
</div>
